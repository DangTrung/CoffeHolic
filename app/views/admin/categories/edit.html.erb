<% provide(:title, 'Edit Category') %>

<div class="col-md-12 col-md-offset-3">
    <h5>New Category</h5>
    <%= form_for [:admin, @category], url: {action: :update, controller: :categories}, method: :post, :html => {:multipart => true} do |f|%>
      <%= render 'shared/errors_message', object: f.object%>
      <%= f.label :name %>
      <%= f.text_field :name, required: true, class: 'form-control', id: 'myInput', :oninput => "myFunction();" %>
      <%= f.label :slug %>
      <%= f.text_field :slug,  class: 'form-control', id: 'demo' %>
      <%= f.label :parent_id %>
      <%= f.select :parent_id, options_for_select( @parent.map{ |c| [c.name, c.id]}, :selected => @selected), { :include_blank => true}, class: 'form-control' %>
      <br>
      <%= f.submit "Save changes", class: "btn btn-primary"%>
    <% end %>
</div>
<script>
        function myFunction() {
          var x = document.getElementById("myInput").value;
          document.getElementById("demo").value = x.replace(/ /g,'-');
        }
</script>
